<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
    <!-- Navbar Brand-->
    <a class="navbar-brand ps-3" href="/"> <img src="/img/logo.png" alt="" style="width: 7em; margin-left: 2em"></a>
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
            class="fas fa-bars"></i></button>
    <!-- Navbar Search-->
    <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
        <div class="input-group">
            <input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..."
                aria-describedby="btnNavbarSearch" />
            <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
        </div>
    </form>
    <!-- Navbar-->
    <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#!">Settings</a></li>
                <li><a class="dropdown-item" href="#!">Activity Log</a></li>
                <li>
                    <hr class="dropdown-divider" />
                </li>
                <li><a class="dropdown-item" href="#!">Logout</a></li>
            </ul>
        </li>
    </ul>
</nav>
<div id="layoutSidenav">
    {{>sidenav}}
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <h1 class="mt-4"><i class="fas fa-computer-speaker"></i> Quản lý sản phẩm</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active">Product</li>
                </ol>
                <button type="button" class="btn btn-success btn-themmoi" data-bs-toggle="modal"
                    data-bs-target="#modalAddProduct" data-bs-action='add'>Thêm
                    mới</button>
                {{!-- Form thêm mới sản phẩm --}}
                <div class="modal fade" id="modalAddProduct" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-xl ">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Thêm sản phẩm mới nào bạn ơiiii</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                {{!-- Nội dung chính --}}
                                <form method="POST" action="/admin/addproduct" enctype="multipart/form-data"
                                    name="form-add-product">
                                    <div class="row  ">
                                        <div class="form-floating col-6 mb-3">
                                            <input class="form-control" id="inputProName" type="text"
                                                placeholder="Tên sản phẩm" name="inputProName" />
                                            <label for="inputProName">Tên sản phẩm</label>
                                        </div>
                                        <div id="pre-choose-type" style="display: none;"
                                            data-type='{{session.curentAdd.type}}'
                                            data-brand='{{session.curentAdd.brand}}'>
                                        </div>
                                        <div class="form-floating col-6 mb-3">
                                            <select class="form-select" name="type" onchange="chooseInput(value)"
                                                id="proType">
                                                <option value="cpu">CPU-Bộ vi xử lí</option>
                                                <option value="mainboard">Mainboard-Bo mạch chủ</option>
                                                <option value="ram">Ram-Bộ nhớ trong</option>
                                                <option value="hdd">HDD-Ổ cứng</option>
                                                <option value="ssd">SSD-Ổ cứng thể rắn</option>
                                                <option value="vga">VGA-Card màn hình</option>
                                                <option value="case">Case-Vỏ máy tính</option>
                                                <option value="psu">PSU-Nguồn máy tính</option>
                                                <option value="laptop-gaming">Laptop gaming</option>
                                                <option value="laptop-normal">Laptop văn phòng</option>
                                                <option value="macbook">Macbook</option>
                                                <option value="monitor-gaming">Màn hình gaming</option>
                                                <option value="monitor-design">Màn hình làm đồ họa</option>
                                                <option value="monitor-vp">Màn hình văn phòng</option>
                                                <option value="keyboard">Bàn phím cơ</option>
                                                <option value="mousepad">Bàn di chuột</option>
                                                <option value="chair">Bàn, ghế gaming</option>
                                                <option value="mouse">Chuột gaming</option>
                                                <option value="microphone">Microphone</option>
                                                <option value="headphone">Tai nghe gaming</option>
                                                <option value="joy">Tay cầm chơi game</option>
                                                <option value="speaker">Loa nghe nhạc</option>
                                                <option value="cooler-air">Tản nhiệt khí PC</option>
                                                <option value="cooler-water">Tản nhiệt nước PC</option>
                                                <option value="fan">Quạt tản nhiệt PC</option>
                                                <option value="pcgaming">Gaming PC</option>
                                                <option value="pcworkstation">Workstation PC</option>
                                            </select>
                                            <label for="proType">Chủng loại</label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-floating col-3 mb-3">
                                            <input class="form-control" id="inputOriginPrice" type="number"
                                                placeholder="Giá gốc" name="inputOriginPrice" />
                                            <label for="inputOriginPrice">Giá gốc</label>
                                        </div>
                                        <div class="form-floating col-3 mb-3">
                                            <input class="form-control" id="inputPrice" type="number"
                                                placeholder="Giá gốc" name="inputPrice" />
                                            <label for="inputPrice">Giá bán</label>
                                        </div>
                                        {{!-- Đoạn này dài lắm đừng mở ra :)) --}}
                                        <div class="form-floating col-6 mb-3">
                                            <select class="form-select brand-select" name="brand" id="cpu">
                                                <option value="intel">Intel</option>
                                                <option value="amd">AMD</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="mainboard">
                                                <option value="nzxt">NZXT</option>
                                                <option value="msi">MSI</option>
                                                <option value="asrock">ASROCK</option>
                                                <option value="gigabyte">GIGABYTE</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="ram">
                                                <option value="ocpc">OCPC</option>
                                                <option value="lexar">Lexar</option>
                                                <option value="klevv">KLEVV</option>
                                                <option value="kingston">Kingston</option>
                                                <option value="teamgroup">TeamGroup</option>
                                                <option value="siliconpower">Silicon Power</option>
                                                <option value="apacer">Apacer</option>
                                                <option value="antec">Antec</option>
                                                <option value="gskill">G.SKILL</option>
                                                <option value="hynix">Hynix</option>
                                                <option value="hp">HP</option>
                                                <option value="geil">GEIL</option>
                                                <option value="adata">Adata</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="gygabyte">GYGABYTE</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="hdd">
                                                <option value="seagate">SEAGATE</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="ssd">
                                                <option value="pioneer">Pioneer</option>
                                                <option value="lexar">Lexar</option>
                                                <option value="westerndigital">Western Digital</option>
                                                <option value="kingston">Kingston</option>
                                                <option value="teamgroup">TeamGroup</option>
                                                <option value="siliconpower">Silicon Power</option>
                                                <option value="apacer">Apacer</option>
                                                <option value="samsung">SAMSUNG</option>
                                                <option value="gygabyte">GYGABYTE</option>
                                                <option value="intel">Intel</option>
                                                <option value="adata">ADATA</option>
                                                <option value="seagate">SEAGATE</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="vga">
                                                <option value="quadro">Quadro</option>
                                                <option value="palit">Palit</option>
                                                <option value="mis">MSI</option>
                                                <option value="leadtek">Leadtek</option>
                                                <option value="asrock">ASROCK</option>
                                                <option value="colorfull">Colorfull</option>
                                                <option value="inno3d">Inno3D</option>
                                                <option value="galax">GALAX</option>
                                                <option value="gygabyte">GYGABYTE</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="case">
                                                <option value="phanteks">Phanteks</option>
                                                <option value="nzxt">NZXT</option>
                                                <option value="msi">MSI</option>
                                                <option value="themaltake">Themaltake</option>
                                                <option value="xigmatek">Xigmatek</option>
                                                <option value="cougar">Cougar</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="antec">Antec</option>
                                                <option value="aerocool">AeroCool</option>
                                                <option value="gamemax">GameMax</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="forgame">Forgame</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="asus">Asus</option>
                                                <option value="gygabyte">GYGABYTE</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="psu">
                                                <option value="nzxt">NZXT</option>
                                                <option value="mis">MSI</option>
                                                <option value="thermaltake">Thermaltake</option>
                                                <option value="xigmatek">Xigmatek</option>
                                                <option value="silverstone">SilverStone</option>
                                                <option value="cooler Master">Cooler Master</option>
                                                <option value="antec">Antec</option>
                                                <option value="aerocool">AeroCool</option>
                                                <option value="gygabyte">GYGABYTE</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="laptop-gaming">
                                                <option value="msi">MSI</option>
                                                <option value="acer">ACER</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="laptop-normal">
                                                <option value="msi">MSI</option>
                                                <option value="lg">LG</option>
                                                <option value="acer">ACER</option>
                                                <option value="asus">ASUS</option>
                                                <option value="hp">HP</option>
                                                <option value="dell">Dell</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="macbook">
                                                <option value="apple">Apple</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="monitor-gaming">
                                                <option value="msi">MSI</option>
                                                <option value="lg">LG</option>
                                                <option value="viewsonic">ViewSonic</option>
                                                <option value="samsung">SAMSUNG</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="bjx">BJX</option>
                                                <option value="aoc">AOC</option>
                                                <option value="acer">ACER</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="gigabyte">GIGABYTE</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="monitor-design">
                                                <option value="phillips">Phillips</option>
                                                <option value="lg">LG</option>
                                                <option value="viewsonic">ViewSonic</option>
                                                <option value="dell">Dell</option>
                                                <option value="asus">ASUS</option>
                                            </select>

                                            <select class="form-select brand-select" name="brand" id="monitor-vp">
                                                <option value="lg">LG</option>
                                                <option value="viewsonic">ViewSonic</option>
                                                <option value="dell">Dell</option>
                                                <option value="asus">ASUS</option>
                                                <option value="aoc">AOC</option>
                                                <option value="acer">ACER</option>
                                                <option value="samsung">SAMSUNG</option>
                                                <option value="msi">MSI</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="keyboard">
                                                <option value="razer">RAZER</option>
                                                <option value="rapoo">Rapoo</option>
                                                <option value="keychron">Keychron</option>
                                                <option value="dareu">DAREU</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="akko">AKKO</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="asus">ASUS</option>
                                                <option value="logitech">Logitech</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="mousepad">
                                                <option value="razer">RAZER</option>
                                                <option value="zadez">Zadez</option>
                                                <option value="t2pc">T2PC</option>
                                                <option value="dareu">DAREU</option>
                                                <option value="akko">AKKO</option>
                                                <option value="asus">ASUS</option>
                                                <option value="steelseries">Steelseries</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="chair">
                                                <option value="msi">MSI</option>
                                                <option value="razer">RAZER</option>
                                                <option value="cool Master">Cool Master</option>
                                                <option value="aeroCool">AeroCool</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="mouse">
                                                <option value="msi">MSI</option>
                                                <option value="razer">RAZER</option>
                                                <option value="hyperx">HyperX</option>
                                                <option value="logitech">Logitech</option>
                                                <option value="kingston">Kingston</option>
                                                <option value="rapoo">Rapoo</option>
                                                <option value="dareu">DAREU</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="durgoo">DURGOO</option>
                                                <option value="akko">AKKO</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="gigabyte">GIGABYTE</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="microphone">
                                                <option value="razer">RAZER</option>
                                                <option value="krom">KROM</option>
                                                <option value="kingston">Kingston</option>
                                                <option value="thronmax">Thronmax</option>
                                                <option value="senheiser">Senheiser</option>
                                                <option value="elgato">Elgato</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="headphone">
                                                <option value="razer">RAZER</option>
                                                <option value="kingston">Kingston</option>
                                                <option value="rapoo">Rapoo</option>
                                                <option value="zadez">Zadez</option>
                                                <option value="dareu">DAREU</option>
                                                <option value="creative">Creative</option>
                                                <option value="cougar">Cougar</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="acer">ACER</option>
                                                <option value="galax">GALAX</option>
                                                <option value="edra">E-Dra</option>
                                                <option value="asus">ASUS</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="logitech">Logitech</option>
                                                <option value="steelseries">Steelseries</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="joy">
                                                {{!-- Edifier --}}
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="speaker">
                                                <option value="edifier">Edifier</option>
                                                <option value="logitech">Logitech</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="cooler-air">
                                                <option value="nztx">NZXT</option>
                                                <option value="noctua">Noctua</option>
                                                <option value="themalright">Themalright</option>
                                                <option value="deepcool">Deep Cool</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="idcooling">ID Cooling</option>
                                                <option value="gigabyte">GIGABYTE</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="cooler-water">
                                                <option value="nztx">NZTX</option>
                                                <option value="msi">MSI</option>
                                                <option value="thermaltake">Thermaltake</option>
                                                <option value="xigmatatek">Xigmatatek</option>
                                                <option value="siliconpower">Silicon Power</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="idcooling">ID Cooling</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="fan">
                                                <option value="nztx">NZTX</option>
                                                <option value="thermaltake">Thermaltake</option>
                                                <option value="xigmatatek">Xigmatatek</option>
                                                <option value="coolermaster">Cooler Master</option>
                                                <option value="idcooling">ID Cooling</option>
                                                <option value="corsair">Corsair</option>
                                                <option value="asus">ASUS</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="pcgaming">
                                                <option value="t2pc">T2PC</option>
                                            </select>
                                            <select class="form-select brand-select" name="brand" id="pcworkstation">
                                                <option value="t2pc">T2PC</option>
                                            </select>
                                            <label for="proType">Hãng sx</label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="mb-3 col-3">
                                            <label for="inputGroupFile02">Hình ảnh sản phẩm</label>
                                            <input type="file" name="inputProImg" class="form-control" id="inputProImg">

                                        </div>
                                        <div class="mb-3 col-3">
                                            <label for="inputGroupFile02">Hình ảnh phần mô tả</label>
                                            <input type="file" name="inputDesImg" class="form-control" id="inputDesImg">

                                        </div>
                                        <div class="form-floating mb-3 col-6">
                                            <input class="form-control" id="inputStored" type="number"
                                                placeholder="Số lượng nhập vào" name="inputStored" />
                                            <label for="inputPrice">Số lượng nhập vào</label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6 form-floating">
                                            <textarea class="form-control" placeholder="Leave a comment here"
                                                id="inputSpec" name='inputSpec' style="height: 320px"></textarea>
                                            <label for="floatingTextarea2">Thông số chi tiết</label>
                                        </div>
                                        <div class="col-6 form-floating">
                                            <textarea class="form-control" placeholder="Leave a comment here"
                                                id="inputDescription" name="inputDescription"
                                                style="height: 320px"></textarea>
                                            <label for="floatingTextarea2">Mô tả sản phẩm</label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="btnCancel" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Thôi chả thêm
                                    nữa</button>
                                <button type="button" id="btnSubmit" class="btn btn-success">Thêm thì thêm</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fas fa-table me-1"></i>
                        Danh sách sản phẩm đang bày bán
                    </div>
                    <div class="card-body">

                        <table id="datatablesSimple">
                            <thead>
                                <tr>
                                    <th>Số thứ tự <i class="fal fa-sort-circle"></i></th>
                                    <th>Hình ảnh</th>
                                    <th>Tên sản phẩm <i class="fal fa-sort-circle"></i></th>
                                    <th>Chủng loại <i class="fal fa-sort-circle"></i></th>
                                    <th>Giá gốc <i class="fal fa-sort-circle"></i></th>
                                    <th>Giá bày bán <i class="fal fa-sort-circle"></i></th>
                                    <th>Hành động</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Số thứ tự <i class="fal fa-sort-circle"></i></th>
                                    <th>Hình ảnh</th>
                                    <th>Tên sản phẩm <i class="fal fa-sort-circle"></i></th>
                                    <th>Chủng loại <i class="fal fa-sort-circle"></i></th>
                                    <th>Giá gốc <i class="fal fa-sort-circle"></i></th>
                                    <th>Giá bày bán <i class="fal fa-sort-circle"></i></th>
                                    <th>Hành động</th>
                                </tr>
                            </tfoot>
                            <tbody>
                                {{#each products}}
                                <tr>
                                    <td>{{sum @index 1}}</td>
                                    <td><img src="{{this.img}}" alt="" style="width: 10em"></td>
                                    <td><a href="/product/{{this._id}}/detail"
                                            style="text-decoration: none;">{{this.name}}</a></td>
                                    <td>{{this.type}}</td>
                                    <td class="currFormat">{{this.originPrice}} đ</td>
                                    <td class="currFormat">{{this.price}} đ</td>
                                    <td>
                                        <button type="button" style="margin: 1em 1em;" class="btn btn-danger"
                                            data-bs-toggle="modal" data-bs-target="#modalXoa"
                                            data-bs-proID='{{this._id}}'>Xóa</button>
                                        <button type="button" style="margin: 1em 1em;" class="btn btn-warning"
                                            data-bs-toggle="modal" data-bs-target="#modalAddProduct"
                                            data-bs-action='update' data-bs-proID='{{this._id}}'
                                            data-bs-proName='{{this.name}}' data-bs-proType='{{this.type}}'
                                            data-bs-proBrand='{{this.brand}}' data-bs-proPrice='{{this.price}}'
                                            data-bs-proOriginPrice='{{this.originPrice}}'
                                            data-bs-proSpec='{{this.spec}}' data-bs-proDes='{{this.description}}'
                                            data-bs-proStored='{{this.stored}}'>Sửa</button>
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
            <!-- Modal xóa -->
            <div class="modal fade" id="modalXoa" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Cảnh báo</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Bạn chắc chắn muốn xóa sản phẩm này ? Sản phẩm sẽ bị xóa vĩnh viễn
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                            <button type="button" id="btn-delete-product" class="btn btn-danger">Chắc chắn! Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
            <div class="container-fluid px-4">
                <div class="d-flex align-items-center justify-content-between small">
                    <div class="text-muted">Copyright &copy; T2PC 2021</div>
                    <div>
                        <a href="#">Privacy Policy</a>
                        &middot;
                        <a href="#">Terms &amp; Conditions</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

</div>
<script src="/js/product-dashboard.js"></script>
<script src="/js/dashboard.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="/js/datatables-simple-demo.js"></script>